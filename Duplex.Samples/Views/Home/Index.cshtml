@{
    ViewBag.Title = "Index";
}

<script src="../../Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.signalR.min.js" type="text/javascript"></script>
<script src="../../Scripts/knockout-2.0.0.js" type="text/javascript"></script>

<script type="text/javascript">
  $(function () {

    var viewModel = {
      dateTime: ko.observable('')
    };

    var connection = $.connection('test');

    connection.received(function (data) {
        viewModel.dateTime = data;
        ko.applyBindings(viewModel);
        //$('#messages').append('<li>' + data + '</li>');
    });

    connection.start();

    $('#btnDisplayMsg').click(function () {
        var msg = $('#txtMsg').val();
        connection.send(msg);
        $('#txtMsg').val('');
    });

    
  });
</script>

<h2>Test Connection</h2>

<div data-bind="html: dateTime"></div>

<br />

<div>
    <input type="text" id="txtMsg" />
    <input type="button" id="btnDisplayMsg" value="Display Message" />
</div>



